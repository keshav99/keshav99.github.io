<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/tiny.css">
    <title>Hey</title>

    <script src="js/lib/greensock/TweenMax.min.js"></script>
    <script src="js/lib/greensock/plugins/ScrollToPlugin.min.js"></script>
    <script src="js/lib/jquery.min.js"></script>
    <script src="js/lib/modernizr.custom.min.js"></script>
    <script src="js/TimelineLite.min.js"></script>
    <script src="js/TimelineMax.min.js"></script>
    <script src="js/jquery.gsap.min.js"></script>
    <script src="js/lib/iscroll-probe.js"></script>
    <script src="lib/scrollmagic/minified/ScrollMagic.min.js"></script>
    <script src="lib/scrollmagic/minified/plugins/animation.gsap.min.js"></script>
    <script src="lib/scrollmagic/minified/plugins/debug.addIndicators.min.js"></script>
    <script src="js/script.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

  </head>
  <body>
    <div class="container">
      <div class="top-bar">
        <img src="img/photo.jpg">
        <ul>
          <li><a href="#contact">CONTACT</a></li>
          <li><a href="#skills">SKILLS</a></li>
          <li><a href="#portfolio">PORTFOLIO</a></li>
          <li><a href="#about">ABOUT</a></li>
        </ul>
      </div>
      <section class= "panel blue" id="about">
        <img id="bg" src="img/hello.jpg">
        <img id="light" src="img/light.png">
        <img id="zelight" src="img/zelight.png">
        <h1>Hello</h1>
        <!-- <div class="container-intro">HELLO FRIEND</div> -->
        <div class="container-intro2">Scroll Down To Know Me</div>
      </section>
      <section class= "panel turquoise" id="portfolio">
        <div class="cover"></div>
      </section>
      <section id="skills"class= "panel green">
        <b>green</b>
      </section>
      <section class= "panel bordeaux" id="contact">
        <b>bored</b>
      </section>

    </div>
      <script>
       
        $("#nav-container").hover(function() {
            // console.log('umm');
          $('#nav-container').toggleClass("pushed");
        });
      var controller = new ScrollMagic.Controller();

      new ScrollMagic.Scene({
        triggerElement: ".container-intro"
      })
      .setPin(".container-intro")
      .addTo(controller);

      new ScrollMagic.Scene({
        triggerElement: ".container-intro2"
      })
      .setPin(".container-intro2")
      .addTo(controller);

      new ScrollMagic.Scene({
  									triggerElement: ".container-intro"
  								})
  								.setTween(
                    new TimelineMax()
                    .fromTo(".container-intro", 1, {y: "-280vh", opacity: "0"}, {y: "-300vh", opacity: "1", ease: Linear.easeIn})
                  ) // trigger a TweenMax.to tween
  								// .addIndicators({name: "1 (duration: 0.5)"}) // add indicators (requires plugin)
  								.addTo(controller);

     new ScrollMagic.Scene({
                                triggerElement: ".container-intro2"
                              })
                              .setTween(
                                new TimelineMax()
                                .fromTo(".container-intro2", 1, {y: "250vh", opacity: "0"}, {y: "225vh", opacity: "0.5", delay: "2", ease: Linear.easeIn})
                              ) // trigger a TweenMax.to tween
                              // .addIndicators({name: "1 (duration: 0.5)"}) // add indicators (requires plugin)
                              .addTo(controller);

        // define movement of panels
      var wipeAnimation = new TimelineMax()
        .add([TweenMax.fromTo("section.panel.blue img#bg",    1, {scale:1, autoalpha:0.05}, {scale:1.05, ease: Linear.easeNone}),  // in from right      
        TweenMax.fromTo("section.panel.blue img#light, section.panel.blue img#zelight", 1, {bottom: 0, autoalpha: 0.3}, {bottom:"50%", ease: Linear.easeNone}),
        TweenMax.fromTo("#portfolio", 1, {y: "100%", autoalpha: 0.3}, {y: "50%", ease: Linear.easeNone})])  // in from left
  			.fromTo("#skills",    1, {x:  "100%"}, {x: "0%", ease: Linear.easeNone})  // in from right
  			.fromTo("#contact", 1, {y: "100%"}, {y: "50%", ease: Linear.easeNone}); // in from top

  		// create scene to pin and link animation
  		new ScrollMagic.Scene({
  				triggerElement: ".container",
  				triggerHook: "onLeave",
  				duration: "200%"
  			})
  			.setPin(".container")
  			.setTween(wipeAnimation)
  			// .addIndicators() // add indicators (requires plugin)
        .addTo(controller);
        
        $(document).on("click", "a[href^=#]", function(e) {
        var id = $(this).attr("href");
        console.log(id);
        if($(id).length > 0) {
          e.preventDefault();

          // trigger scroll
          controller.scrollTo(id);

          // If supported by the browser we can also update the URL
          if (window.history && window.history.pushState) {
            history.pushState("", document.title, id);
          }
        }

      });
      </script>

    </div>
  </body>
</html>
